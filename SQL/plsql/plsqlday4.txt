SQL> SELECT text
  2  FROM all_source
  3  WHERE name = 'PROCINSCUST1' ;

TEXT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
procedure procInsCust1(pcid in customer.cid%type,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
pcname in customer.cname%type,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
pphone in customer.cphone%type,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
pcity in customer.ccity%type,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
pgen in customer.cgender%type,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
result out number)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
is                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
begin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
insert into customer values(pcid,pcname,pphone,pcity,pgen);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
result:=1;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
exception                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
when others then                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
result:=0;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
end;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    

14 rows selected.

SQL> SELECT text
  2  FROM all_source
  3  WHERE name = 'F1' ;

TEXT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
function f1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
return varchar                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
is                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
fcity varchar(10);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
begin                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
select ccity into fcity                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
from customer                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
where cname like 'AAKASH';                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
return fcity;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
end;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    

10 rows selected.

SQL> desc dept;
ERROR:
ORA-04043: object dept does not exist 


SQL> create table dept(
  2  dno number(5) primary key,
  3  dname varchar2(10),
  4  city varchar2(10));

Table created.

SQL> cl scr

SQL> desc dept;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 DNO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               NOT NULL NUMBER(5)
 DNAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      VARCHAR2(10)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)

SQL> set lines 1000 pages 1000
SQL> desc dept;
 Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Null?    Type
 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 DNO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               NOT NULL NUMBER(5)
 DNAME                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      VARCHAR2(10)
 CITY                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       VARCHAR2(10)

SQL> set lines 100 pages 100
SQL> desc dept;
 Name                                                  Null?    Type
 ----------------------------------------------------- -------- ------------------------------------
 DNO                                                   NOT NULL NUMBER(5)
 DNAME                                                          VARCHAR2(10)
 CITY                                                           VARCHAR2(10)

SQL> insert into dept values(1,'IT','Pune');

1 row created.

SQL> insert into dept values(2,'SALES','Pune');

1 row created.

SQL> insert into dept values(3,'MARK','Delhi');

1 row created.

SQL> insert into dept values(4,'HR','Jaipur');

1 row created.

SQL> desc emp;
ERROR:
ORA-04043: object emp does not exist 


SQL> create table emp(
  2  eno number(5) primary key,
  3  ename varchar2(10),
  4  sal number(5),
  5  dno references dept(dno));

Table created.

SQL> insert into dept values(2,'SALES','Pune');
insert into dept values(2,'SALES','Pune')
*
ERROR at line 1:
ORA-00001: unique constraint (SYSTEM.SYS_C007341) violated 


SQL> insert into emp values(1,'Alice',800,1);

1 row created.

SQL> insert into emp values(2,'Ben',900,1);

1 row created.

SQL> insert into emp values(3,'Chris',700,2);

1 row created.

SQL> insert into emp values(4,'Tom',1000,2);

1 row created.

SQL> insert into emp values(5,'David',600,3);

1 row created.

SQL> select * from dept;

       DNO DNAME      CITY                                                                          
---------- ---------- ----------                                                                    
         1 IT         Pune                                                                          
         2 SALES      Pune                                                                          
         3 MARK       Delhi                                                                         
         4 HR         Jaipur                                                                        

SQL> select * from emp;

       ENO ENAME             SAL        DNO                                                         
---------- ---------- ---------- ----------                                                         
         1 Alice             800          1                                                         
         2 Ben               900          1                                                         
         3 Chris             700          2                                                         
         4 Tom              1000          2                                                         
         5 David             600          3                                                         

SQL> -- w a f to return the total sal of a particular Dept
SQL> create or replace function f4(fdname in dept.dname%type)
  2  retutn number
  3  is
  4  ftsal emp.sal%type;
  5  begin
  6  select sum(sal) into ftsal
  7  from dept
  8  join
  9  emp
 10  on dept.dno=emp.dno
 11  and
 12  dname like fdname;
 13  return ftsal;
 14  end;
 15  /

Warning: Function created with compilation errors.

SQL> show errors;
Errors for FUNCTION F4:

LINE/COL ERROR                                                                                      
-------- -----------------------------------------------------------------                          
2/1      PLS-00103: Encountered the symbol "RETUTN" when expecting one of                           
         the following:                                                                             
         return                                                                                     
         The symbol "return was inserted before "RETUTN" to continue.                               
                                                                                                    
9/1      PLS-00103: Encountered the symbol "EMP" when expecting one of the                          
         following:                                                                                 
         , ; for group having intersect minus order start union where                               
         connect                                                                                    
                                                                                                    
SQL> ed
SP2-0110: Cannot create save file "afiedt.buf"
SQL> create or replace function f4(fdname in dept.dname%type)
  2  return number
  3  is
  4  ftsal emp.sal%type;
  5  begin
  6  select sum(sal) into ftsal
  7  from dept
  8  join
  9  emp
 10  on dept.dno=emp.dno
 11  and
 12  dname like fdname;
 13  return ftsal;
 14  end;
 15  /

Function created.

SQL> select f4('IT') from dual;

  F4('IT')                                                                                          
----------                                                                                          
      1700                                                                                          

SQL> create table emp(
  2  
SQL> 
SQL> 
SQL> 
SQL> 
SQL> 
SQL> select f4('SALES') from dual;

F4('SALES')                                                                                         
-----------                                                                                         
       1700                                                                                         

SQL> cl scr

SQL> select * from dept;

       DNO DNAME      CITY                                                                          
---------- ---------- ----------                                                                    
         1 IT         Pune                                                                          
         2 SALES      Pune                                                                          
         3 MARK       Delhi                                                                         
         4 HR         Jaipur                                                                        

SQL> select * from emp;

       ENO ENAME             SAL        DNO                                                         
---------- ---------- ---------- ----------                                                         
         1 Alice             800          1                                                         
         2 Ben               900          1                                                         
         3 Chris             700          2                                                         
         4 Tom              1000          2                                                         
         5 David             600          3                                                         

SQL> -- display details of emps working in IT rows   select eno,ename,sal,dno
SQL> -- display name and sal of emps working in IT rows   select eno,sal
SQL> declare
  2  cursor c1
  3  is
  4  select eno,ename,sal,emp.dno
  5  from dept d
  6  join
  7  emp e
  8  /
emp e
    *
ERROR at line 7:
ORA-06550: line 7, column 6: 
PL/SQL: ORA-00905: missing keyword 
ORA-06550: line 4, column 1: 
PL/SQL: SQL Statement ignored 
ORA-06550: line 7, column 5: 
PLS-00103: Encountered the symbol "end-of-file" when expecting one of the following: 
; 


SQL> select eno,ename,sal,e.dno
  2  from dept d
  3  join
  4  emp e
  5  /
emp e
    *
ERROR at line 4:
ORA-00905: missing keyword 


SQL> declare
  2  cursor c1
  3  is
  4  select eno,ename,sal,e.dno
  5  from dept d
  6  join
  7  emp e
  8  on d.dno=e.dno
  9  where dname like 'IT';
 10  begin
 11  for x in c1
 12  loop
 13  dbms_output.put_line(x.eno || ' ' || x.ename || '  ' || x.sal || '  ' || x.dno);
 14  end loop;
 15  end;
 16  /

PL/SQL procedure successfully completed.

SQL> set serveroutput on
SQL> /
1 Alice  800  1                                                                                     
2 Ben  900  1                                                                                       

PL/SQL procedure successfully completed.

SQL> SELECT text
  2  FROM all_source
  3  WHERE name = 'C1';

no rows selected

SQL> -- display names of emps from IT dept who are earning more than 850
SQL> create or replace procedure p77
  2  is
  3  cursor c1
  4  /

Warning: Procedure created with compilation errors.

SQL> create or replace procedure p77
  2  as
  3  cursor c1
  4  is
  5  select ename
  6  from dept d
  7  join emp e
  8  on d.dno=e.dno
  9  and
 10  /

Warning: Procedure created with compilation errors.

SQL> create or replace procedure p77
  2  as
  3  cursor c1
  4  is
  5  select ename
  6  from dept d
  7  join emp e
  8  on d.dno=e.dno
  9  where dname like 'IT'
 10  and sal>850;
 11  begin
 12  for x in c1 loop
 13  dbms_output.put_line(x.ename);
 14  end loop;
 15  end;
 16  /

Procedure created.

SQL> execute p77;
Ben                                                                                                 

PL/SQL procedure successfully completed.

SQL> create or replace procedure p78
  2  as
  3  cursor c1
  4  is
  5  select ename
  6  from dept d
  7  join emp e
  8  on d.dno=e.dno
  9  /

Warning: Procedure created with compilation errors.

SQL> create or replace procedure p78
  2  as
  3  cursor c1
  4  is
  5  select *
  6  from dept d
  7  join emp e
  8  on d.dno=e.dno
  9  where dname like 'IT';
 10  begin
 11  for x in c1 loop
 12  if(x.sal>850) then
 13  dbms_output.put_line(x.ename);
 14  end if;
 15  end loop;
 16  end;
 17  /

Procedure created.

SQL> execute p78;
Ben                                                                                                 

PL/SQL procedure successfully completed.

SQL> cl scr;

SQL> select * from dept;

       DNO DNAME      CITY                                                                          
---------- ---------- ----------                                                                    
         1 IT         Pune                                                                          
         2 SALES      Pune                                                                          
         3 MARK       Delhi                                                                         
         4 HR         Jaipur                                                                        

SQL> select * from emp;

       ENO ENAME             SAL        DNO                                                         
---------- ---------- ---------- ----------                                                         
         1 Alice             800          1                                                         
         2 Ben               900          1                                                         
         3 Chris             700          2                                                         
         4 Tom              1000          2                                                         
         5 David             600          3                                                         

SQL> spool off
